/*
 * Copyright (c) 2014-2018 BSI Business Systems Integration AG.
 * All rights reserved. This program and the accompanying materials
 * are made available under the terms of the Eclipse Public License v1.0
 * which accompanies this distribution, and is available at
 * http://www.eclipse.org/legal/epl-v10.html
 *
 * Contributors:
 *     BSI Business Systems Integration AG - initial API and implementation
 */
@desktop-notification-width: 250px;

.desktop-notifications {
  position: fixed;
  right: 10px;
  top: 0;
  height: 100%;
  width: @desktop-notification-width;
  margin-top: @desktop-notifications-margin-top;
  pointer-events: none; /* Don't block access to the elements in the background */
}

/*** Animation: slide-in ***/

@-webkit-keyframes desktop-notification-slide-in {
  .keyframes-desktop-notification-slide-in();
}

@keyframes desktop-notification-slide-in {
  .keyframes-desktop-notification-slide-in();
}

/**
 * Slides in the notification from the right end of the screen
 * and increases the size of the bottom margin to move down existing
 * notifications.
 */
.keyframes-desktop-notification-slide-in() {
  0% {
    left: @desktop-notification-width;
    margin-bottom: 0;
  }
  80% {
    left: 15px;
  }
  100% {
    left: 0;
    margin-bottom: 20px;
  }
}

.animation-desktop-notification-slide-in() {
  #scout.animation-name(desktop-notification-slide-in);
  #scout.animation-duration(0.3s);
  #scout.animation-iteration-count(1);
  #scout.animation-timing-function(ease-out);
}

.desktop-notification-slide-in {
  .animation-desktop-notification-slide-in();
}

/*** Animation: fade-out ***/

@-webkit-keyframes desktop-notification-fade-out {
  .keyframes-desktop-notification-fade-out();
}

@keyframes desktop-notification-fade-out {
  .keyframes-desktop-notification-fade-out();
}

.keyframes-desktop-notification-fade-out() {
  0% {
    opacity: 1.0;
    margin-bottom: 20px;
  }
  100% {
    opacity: 0;
    margin-bottom: -37px;
  }
}

.animation-desktop-notification-fade-out() {
  #scout.animation-name(desktop-notification-fade-out);
  #scout.animation-duration(0.3s);
  #scout.animation-iteration-count(1);
  #scout.animation-timing-function(ease-out);
}

.desktop-notification-fade-out {
  .animation-desktop-notification-fade-out();
}

.desktop-notification {
  position: relative;
  width: @desktop-notification-width;
  float: right;
  border-left: 3px solid @active-color;
  background-color: @desktop-notification-background-color;
  margin-bottom: 20px;
  pointer-events: auto;
  #scout.drop-shadow();

  &.ok {
    border-left-color: @desktop-notification-ok-border-color;
  }

  &.info {
    border-left-color: @desktop-notification-info-border-color;
  }

  &.warning {
    border-left-color: @desktop-notification-warning-border-color;
  }

  &.error {
    border-left-color: @desktop-notification-error-border-color;
  }
}

.desktop-notification-content {
  border: 1px solid @border-color;
  border-left-width: 0;
  padding: 10px;

  /* Prevent overlay of text and close icon */

  &.closable {
    padding-right: 25px;
  }

  & > .closer {
    position: absolute;
    right: 10px;
    top: 10px;
  }
}

.desktop-notification-message {
  display: inline-block;
}

.desktop-notification-loader {
  display: inline-block;
}

.desktop-notification-loader.animated::after {
  #scout.animation(pulsate 2s cubic-bezier(0.5, 0.1, 0.1, 0.5) infinite);
  content: '';
  display: inline-block;
  vertical-align: middle;
  margin-top: -3px;
  margin-left: 16px;
  margin-right: 6px;
  border-radius: 50%;
  border: 1px fade(@busyindicator-active-color, 80%) solid;
  width: 14px;
  height: 14px;
}
